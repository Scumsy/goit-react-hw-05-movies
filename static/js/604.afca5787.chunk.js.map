{"version":3,"file":"static/js/604.afca5787.chunk.js","mappings":"2SAEaA,EAAkBC,EAAAA,GAAAA,OAAH,icAmBfC,EAAgBD,EAAAA,GAAAA,KAAH,8KAUbE,EAAmBF,EAAAA,GAAAA,OAAH,qiBA4BhBG,EAAkBH,EAAAA,GAAAA,MAAH,yP,SClDfI,EAAY,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAC1B,GAA4CC,EAAAA,EAAAA,UAAS,IAArD,eAAOC,EAAP,KAAuBC,EAAvB,KAgBA,OACE,SAACT,EAAD,CAAiBU,UAAU,YAA3B,UACE,UAACR,EAAD,CAAeI,SARE,SAAAK,GACnBA,EAAIC,iBACJN,EAASE,GALTC,EAAkB,GAOnB,EAI0CC,UAAU,OAAjD,WACE,SAACP,EAAD,CACEU,KAAK,SACLH,UAAU,SACVI,SAA6B,KAAnBN,IAAyB,EAHrC,UAKE,SAAC,MAAD,CAAUO,KAAM,GAAIL,UAAU,eAA9B,uBAKF,SAACN,EAAD,CACEM,UAAU,QACVM,KAAK,iBACLH,KAAK,OACLI,aAAa,MACbC,WAAS,EACTC,YAAY,gBACZC,MAAOZ,EACPa,SAnCY,SAAAV,GAClBF,EAAkBE,EAAIW,OAAOF,MAC9B,QAsCF,EC7Cc,SAASG,IACtB,OAA4BhB,EAAAA,EAAAA,UAAS,IAArC,eAAOiB,EAAP,KAAeC,EAAf,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,GAAWC,EAAAA,EAAAA,MACXC,EAAQJ,EAAaK,IAAI,SAmC/B,OA7BAC,EAAAA,EAAAA,YAAU,WAAM,wCAKd,2FACEC,QAAQC,IAAIJ,GADd,mBAG6BK,EAAAA,EAAAA,IAAaL,GAH1C,OAGUM,EAHV,OAIIH,QAAQC,IAAIE,GACc,IAAtBA,EAAWC,QACbC,EAAAA,GAAAA,MACE,2EACA,CACEC,SAAU,eAIhBf,EAAUY,GAbd,kDAeIE,EAAAA,GAAAA,MAAY,iDAAkD,CAC5DC,SAAU,eAhBhB,2DALc,sBACA,OAAVT,GAA4B,KAAVA,GADR,mCA0BdU,EACD,GAAE,CAACV,KAGF,iCACE,2BACE,SAAC1B,EAAD,CAAWC,SApCA,SAAAoC,GACfd,EAAgB,CAAEG,MAAOW,GAC1B,MAqCIlB,EAAOc,OAAS,IACf,wBACGd,EAAOmB,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAP,OACV,yBACE,SAAC,KAAD,CAAMC,GAAE,kBAAaF,GAAMG,MAAO,CAAEC,KAAMnB,GAA1C,SACGgB,KAFID,EADC,OAShB,SAAC,KAAD,CAAgBK,UAAW,QAGhC,C","sources":["components/SearchBar/Searchbar.styled.jsx","components/SearchBar/Searchbar.jsx","components/pages/Movies.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nexport const SearchbarHeader = styled.header`\n  top: 0;\n  left: 0;\n  position: sticky;\n  z-index: 1100;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 64px;\n  padding-right: 24px;\n  padding-left: 24px;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  color: #fff;\n  background-color: #3f51b5;\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n`;\n\nexport const SearchbarForm = styled.form`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n  background-color: #fff;\n  border-radius: 3px;\n  overflow: hidden;\n`;\n\nexport const SearchFormButton = styled.button`\n  display: inline-block;\n  width: 48px;\n  height: 48px;\n  border: 0;\n  background-size: 40%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n  :hover {\n    opacity: 1;\n  }\n  span {\n    position: absolute;\n    width: 1px;\n    height: 1px;\n    padding: 0;\n    overflow: hidden;\n    clip: rect(0, 0, 0, 0);\n    white-space: nowrap;\n    clip-path: inset(50%);\n    border: 0;\n  }\n`;\n\nexport const SearchFormInput = styled.input`\n  display: inline-block;\n  width: 100%;\n  font: inherit;\n  font-size: 20px;\n  border: none;\n  outline: none;\n  padding-left: 4px;\n  padding-right: 4px;\n  :placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n`;\n","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { BsSearch } from 'react-icons/bs';\nimport {\n  SearchbarHeader,\n  SearchbarForm,\n  SearchFormButton,\n  SearchFormInput,\n} from './Searchbar.styled';\nexport const Searchbar = ({ onSubmit }) => {\n  const [inputForSearch, setInputForSearch] = useState('');\n\n  const onFormInput = evt => {\n    setInputForSearch(evt.target.value);\n  };\n\n  const reset = () => {\n    setInputForSearch('');\n  };\n\n  const onFormSubmit = evt => {\n    evt.preventDefault();\n    onSubmit(inputForSearch);\n    reset();\n  };\n\n  return (\n    <SearchbarHeader className=\"searchbar\">\n      <SearchbarForm onSubmit={onFormSubmit} className=\"form\">\n        <SearchFormButton\n          type=\"submit\"\n          className=\"button\"\n          disabled={inputForSearch === '' && true}\n        >\n          <BsSearch size={24} className=\"button-label\">\n            Search\n          </BsSearch>\n        </SearchFormButton>\n\n        <SearchFormInput\n          className=\"input\"\n          name=\"inputForSearch\"\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search movies\"\n          value={inputForSearch}\n          onChange={onFormInput}\n        />\n      </SearchbarForm>\n    </SearchbarHeader>\n  );\n};\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import { useSearchParams, useLocation, Link } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\n\nimport { SearchMovies } from '../MoviesAPI/GetMovies';\nimport { Searchbar } from 'components/SearchBar/Searchbar';\n\nexport default function Movies() {\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const location = useLocation();\n  const query = searchParams.get('query');\n\n  const onSubmit = data => {\n    setSearchParams({ query: data });\n  };\n\n  useEffect(() => {\n    if (query === null || query === '') {\n      return;\n    }\n\n    async function SearchMovieList() {\n      console.log(query);\n      try {\n        const cardSearch = await SearchMovies(query);\n        console.log(cardSearch);\n        if (cardSearch.length === 0) {\n          toast.error(\n            'Sorry, there are no films matching your search query. Please, try again.',\n            {\n              position: 'top-center',\n            }\n          );\n        }\n        setMovies(cardSearch);\n      } catch (error) {\n        toast.error('Something went wrong. Please, reload the page.', {\n          position: 'top-center',\n        });\n      }\n    }\n\n    SearchMovieList();\n  }, [query]);\n\n  return (\n    <>\n      <main>\n        <Searchbar onSubmit={onSubmit} />\n      </main>\n\n      {movies.length > 0 && (\n        <ul>\n          {movies.map(({ id, title }) => (\n            <li key={id}>\n              <Link to={`/movies/${id}`} state={{ from: location }}>\n                {title}\n              </Link>\n            </li>\n          ))}\n        </ul>\n      )}\n      <ToastContainer autoClose={3000} />\n    </>\n  );\n}\n"],"names":["SearchbarHeader","styled","SearchbarForm","SearchFormButton","SearchFormInput","Searchbar","onSubmit","useState","inputForSearch","setInputForSearch","className","evt","preventDefault","type","disabled","size","name","autoComplete","autoFocus","placeholder","value","onChange","target","Movies","movies","setMovies","useSearchParams","searchParams","setSearchParams","location","useLocation","query","get","useEffect","console","log","SearchMovies","cardSearch","length","toast","position","SearchMovieList","data","map","id","title","to","state","from","autoClose"],"sourceRoot":""}